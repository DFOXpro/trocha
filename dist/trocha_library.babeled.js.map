{"version":3,"sources":["trocha_library.es6.js"],"names":["parent","_throwError","scope","error_text","value","TrochaError","ERROR_HEADER","Error","_throwWarning","warning_text","console","warn","WARNING_HEADER","s","_","DS","OPTIONS","GET","HEAD","POST","PUT","PATCH","DELETE","TRACE","CONNECT","ROUTE","SCOPE","_RESOURCE","_ALIAS","ID","URL","NAME","HIDE","TYPE","PREFIX","ALIAS","QUERY","POSTFIX","EXTENDED","METHOD","DOMAIN","ROUTES","JUST_ID","FRAGMENT","RESOURCE","PARENT_ID","DEFAULT_ID","ALWAYS_URL","ALWAYS_POST","CUSTOM_SELECTOR","AS","PATH","_show","_edit","_new","_list","_basicResource","SS","r","ERROR_ROUTE_ALREADY_DEFINE","ERROR_SCOPE_AS_A_ROUTE","WARNING_RESOURCE_AS_A_ROUTE","WARNING_ROUTE_ATTRIBUTE_NOT_SUPPORTED","Route","myParent","argRouteDef","argCustomSelector","argRoot","argChildRoutes","argDomain","argAlwaysUrl","argPre","argPost","argAlwaysPost","childs","alwaysPost","alwaysUrl","domain","post","pre","mySelf","id","attribute","fun","skipSelector","Object","defineProperty","get","enumerable","configurable","posibleRouteDef","_setAndDisposeAttribute","routeDefinition","name","routeSubclasses","Alias","Resource","Scope","forEach","routeSubclass","is","diggest","routeTypes","undefined","newRoute","root","skipResource","resourceChilds","posibleChildRoutesNames","keys","length","posibleChild","pop","scopedChild","args","routeParams","customNameFun","myData","rootData","parentPathArg","hide","customNameFromInhered","myId","noIdentifier","query","JSON","parse","stringify","fragment","preId","replace","idName","key","i","array","Array","isArray","_i","encodeURIComponent","IS","dest","attributes","DEFAULT_METHOD","_trimSelector","src","slice","useID","constructor","force","Trocha","customSelector","routes"],"mappings":"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","sourcesContent":["/** @license trocha@0.2.0 - 2019-03-17\n* Trocha.js \n* \n* This source code is licensed under the Mozillas Public license 2.0 found in the \n* LICENSE file in the root directory of this source tree. \n*/\n/**\n * This file is intended for non module enviorements\n * Works like JQuery or legacy angular\n * Note the parent can be within a clousure or be self(window or worker)\n */\n((parent) => {\n/* Begin: src/v2/_core.js */\n\t// Utility methods\n/* Begin: src/v2/_utils.js */\n\tlet _throwError = (scope, error_text, value) => {\n\t\tclass TrochaError extends Error {\n\t\t\tconstructor(scope, error_text, value) {\n\t\t\t\t// Pass remaining arguments (including vendor specific ones) to parent constructor\n\t\t\t\tsuper(ERROR_HEADER+error_text)\n\t\t\t\t\n\t\t\t\t// Custom debugging information\n\t\t\t\tthis.scope = scope\n\t\t\t\tthis.value = value\n\t\t\t}\n\t\t}\n\t\tthrow new TrochaError(scope, error_text, value)\n\t}\n\n\tlet _throwWarning = (scope, warning_text, value) => {\n\t\tconsole.warn(WARNING_HEADER+warning_text, value||s, scope||s)\n\t}\n/* End: src/v2/_utils.js */\n\t// Const used abroad the library\n/* Begin: src/v2/_variables.js */\n\t/*\n\t * Why variables are outside the Trocha class?\n\t * Because private variables are still not supported\n\t * and because Route share a lot of symbols with Trocha\n\t */\n\n\t// Utility vars\n\tconst _ = '/'\n\tconst s = '' // Force string\n\tconst DS = '$' // DEFAULT_SELECTOR\n\n\t// Request method types\n\tconst OPTIONS = 'OPTIONS'\n\tconst GET = 'GET'\n\tconst HEAD = 'HEAD'\n\tconst POST = 'POST'\n\tconst PUT = 'PUT'\n\tconst PATCH = 'PATCH'\n\tconst DELETE = 'DELETE'\n\tconst TRACE = 'TRACE'\n\tconst CONNECT = 'CONNECT'\n\n\t// Route types\n\tconst ROUTE = 'ROUTE'\n\tconst SCOPE = 'SCOPE'\n\tconst _RESOURCE = 'RESOURCE'\n\tconst _ALIAS = 'ALIAS'\n\n\t// Input attributes\n\tconst ID = 'id'\n\tconst URL = 'url'\n\tconst NAME = 'name'\n\tconst HIDE = 'hide'\n\tconst TYPE = 'type'\n\tconst PREFIX = 'pre'\n\tconst ALIAS = 'alias'\n\tconst QUERY = 'query'\n\tconst POSTFIX = 'post'\n\tconst EXTENDED = 'ext'\n\tconst METHOD = 'method'\n\tconst DOMAIN = 'domain'\n\tconst ROUTES = 'routes'\n\tconst JUST_ID = 'justId'\n\t// const AFTER_ID = 'afterId' // FAILS & no DOCS\n\tconst FRAGMENT = 'fragment'\n\tconst RESOURCE = 'resource'\n\tconst PARENT_ID = 'parentId'\n\tconst DEFAULT_ID = `defaultId`\n\tconst ALWAYS_URL = 'alwaysUrl'\n\tconst ALWAYS_POST = 'alwaysPost'\n\tconst CUSTOM_SELECTOR = 'customSelector'\n\n\t// Route return attributes\n\tconst AS = 'as'\n\tconst PATH = 'path'\n\t// const NEW_SCOPE = '_newScope'\n\t// const NEW_ROUTE = '_newRoute'\n\t// const NEW_RESOURCE = '_newResource'\n\t// const NEW_ALIAS = '_newAlias'\n\n\t// Main object return attributes\n\t/**\n\t * @TODO deprecate\n\t * Reason: all those attributes can have customSelector\n\t */\n\t// const $prefix = DS+PREFIX\n\t// const $postfix = DS+POSTFIX\n\t// const $alwaysUrl = DS+ALWAYS_URL\n\t// const $alwaysPost = DS+ALWAYS_POST\n\t// const $customSelector = DS+CUSTOM_SELECTOR\n\n\t//// static final\n\n\t// BASIC RESOURCE\n\tconst _show = 'show'\n\tconst _edit = 'edit'\n\tconst _new = 'new'\n\tconst _list = 'list'\n\tconst _basicResource = (SS = DS)=>{ // selectedSelector\n\t\tconst r = {}\n\t\tr[SS+ID] = ID\n\t\tr[_show] = {}\n\t\tr[_edit] = {}\n\t\tr[_new] = {}\n\t\tr[_list] = {}\n\t\tr[_show][SS+HIDE] = true\n\t\tr[_new][SS+ID] = false\n\t\tr[_list][SS+ID] = false\n\t\tr[_list][SS+HIDE] = true\n\t\treturn r\n\t}\n\n\tconst ERROR_HEADER = 'TrochaJS error: '\n\tconst WARNING_HEADER = 'TrochaJS warning: '\n\tconst ERROR_ROUTE_ALREADY_DEFINE = 'Route already declare'\n\tconst ERROR_SCOPE_AS_A_ROUTE = 'Scope is not printable a route'\n\tconst WARNING_RESOURCE_AS_A_ROUTE = 'Resource should not be used as a route'\n\tconst WARNING_ROUTE_ATTRIBUTE_NOT_SUPPORTED = 'Attribute not supported, skiped'\n/* End: src/v2/_variables.js */\n\t// Trocha class\n/* Begin: src/v2/_Trocha.js */\n\t// Route classes\n/* Begin: src/v2/_Route.js */\n\tclass Route {\n\t\t#data = {\n\t\t\tparent: null,\n\t\t\tchilds: {},\n\t\t\tSS: DS, // selectedSelector\n\t\t\t// next just for root\n\t\t\talwaysPost: false,\n\t\t\talwaysUrl: false,\n\t\t\tdomain: '',\n\t\t\tpost: '',\n\t\t\tpre: '',\n\t\t}\n\t\t#anyParentHasThisId = (mySelf, id) =>{\n\t\t\tlet SS = mySelf.#data.SS\n\t\t\tif(!mySelf.#data.parent) return false\n\t\t\treturn (\n\t\t\t\t(mySelf.#data.parent[SS+ID] === id) ||\n\t\t\t\t(mySelf.#anyParentHasThisId(mySelf.#data.parent, id))\n\t\t\t)\n\t\t}\n\t\t#newGetter = (mySelf, attribute, fun, skipSelector) =>{\n\t\t\tlet SS = skipSelector? '' : mySelf.#data.SS\n\t\t\tObject.defineProperty(mySelf, SS+attribute, {\n\t\t\t\tget() {\n\t\t\t\t\tif(fun) return fun()\n\t\t\t\t\telse return mySelf.#data[attribute]\n\t\t\t\t},\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: false\n\t\t\t})\n\t\t}\n\t\t#defineMyAttributes = (mySelf, posibleRouteDef) => {\n\t\t\tlet SS = mySelf.#data.SS\n\t\t\tlet _setAndDisposeAttribute = (attribute) => {\n\t\t\t\tmySelf.#data[attribute] = posibleRouteDef[SS+attribute]\n\t\t\t\tdelete posibleRouteDef[SS+attribute]\n\t\t\t}\n\n\t\t\t_setAndDisposeAttribute(NAME)\n\t\t\t_setAndDisposeAttribute(ID)\n\t\t\t_setAndDisposeAttribute(DEFAULT_ID)\n\t\t\t_setAndDisposeAttribute(TYPE)\n\t\t\t_setAndDisposeAttribute(METHOD)\n\n\t\t\t_setAndDisposeAttribute(ALIAS)\n\t\t\t_setAndDisposeAttribute(RESOURCE)\n\n\t\t\t_setAndDisposeAttribute(HIDE)\n\t\t\t_setAndDisposeAttribute(POSTFIX)\n\t\t\t_setAndDisposeAttribute(JUST_ID)\n\t\t\t_setAndDisposeAttribute(PARENT_ID)\n\t\t\tif(false === posibleRouteDef[mySelf.#data.parent[SS+ID]])\n\t\t\t\t_setAndDisposeAttribute(mySelf.#data.parent[SS+ID])\n\t\t\tmySelf.#newGetter(mySelf, NAME)\n\t\t\tmySelf.#newGetter(mySelf, ID) // @TODO DOCUMENT ME, TEST ME\n\t\t\tmySelf.#newGetter(mySelf, METHOD)\n\t\t\tmySelf.#newGetter(mySelf, AS, ()=>(mySelf.#as(mySelf)))\n\t\t}\n\n\t\t#createChildRoute = (mySelf, routeDefinition, name) => {\n\t\t\tlet SS = mySelf.#data.SS\n\t\t\tif(mySelf.#data.childs[name])\n\t\t\t\t_throwError(mySelf, ERROR_ROUTE_ALREADY_DEFINE, name)\n\t\t\tlet routeSubclasses = [Route, Alias, Resource, Scope]\n\t\t\trouteSubclasses.forEach((routeSubclass) => {\n\t\t\t\tif(routeSubclass.is(routeDefinition, SS))\n\t\t\t\t\trouteDefinition = routeSubclass.diggest(routeDefinition, SS, SS)\n\t\t\t})\n\t\t\trouteDefinition[SS+NAME] = name\n\t\t\tlet routeTypes = {}\n\t\t\trouteTypes[ROUTE] = Route\n\t\t\trouteTypes[undefined] = Route\n\t\t\trouteTypes[_ALIAS] = Alias\n\t\t\trouteTypes[SCOPE] = Scope\n\t\t\trouteTypes[_RESOURCE] = Resource\n\n\t\t\tlet newRoute = new routeTypes[routeDefinition[SS+TYPE]](\n\t\t\t\tmySelf, routeDefinition, SS, mySelf.#data.root\n\t\t\t)\n\t\t\tmySelf.#data.childs[name] = newRoute\n\t\t\tmySelf.#newGetter(mySelf, name, ()=>(mySelf.#data.childs[name]), true)\n\t\t}\n\t\t#diggestChildRoutes = (mySelf, argChildRoutes, skipResource) => {\n\t\t\tlet SS = mySelf.#data.SS\n\t\t\tif(\n\t\t\t\t!skipResource &&\n\t\t\t\tmySelf.#data[TYPE] === _RESOURCE\n\t\t\t){\n\t\t\t\tlet resourceChilds = mySelf.#data[RESOURCE]\n\t\t\t\tdelete resourceChilds[SS+ID]\n\t\t\t\tmySelf.#diggestChildRoutes(mySelf, resourceChilds, true)\n\t\t\t}\n\n\t\t\tlet posibleChildRoutesNames = Object.keys(argChildRoutes)\n\t\t\twhile(posibleChildRoutesNames.length){\n\t\t\t\tlet posibleChild = posibleChildRoutesNames.pop()\n\t\t\t\tif( // This case disable any <id>=false\n\t\t\t\t\t(argChildRoutes[posibleChild] ===  false) &&\n\t\t\t\t\tmySelf.#anyParentHasThisId(mySelf, posibleChild)\n\t\t\t\t) mySelf.#data[posibleChild] = false\n\t\t\t\telse{\n\t\t\t\t\tmySelf.#createChildRoute(mySelf, argChildRoutes[posibleChild], posibleChild)\n\t\t\t\t\tif(mySelf.#data[TYPE] === SCOPE) {\n\t\t\t\t\t\tlet scopedChild = {...argChildRoutes[posibleChild]}\n\t\t\t\t\t\tscopedChild[SS+PARENT_ID] = false\n\t\t\t\t\t\tmySelf.#createChildRoute(mySelf.#data.parent, scopedChild, posibleChild)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t#as = (mySelf) => {\n\t\t\tlet SS = mySelf.#data.SS\n\t\t\treturn mySelf.#data.parent[SS+AS]? `${mySelf.#data.parent[SS+AS]}_${mySelf.#data[NAME]}` : mySelf.#data[NAME]\n\t\t}\n\n\t\tconstructor(\n\t\t\tmyParent,\n\t\t\targRouteDef,\n\t\t\targCustomSelector,\n\t\t\targRoot,\n\t\t\t// Arguments for root Route\n\t\t\targChildRoutes = {},\n\t\t\targDomain,\n\t\t\targAlwaysUrl,\n\t\t\targPre,\n\t\t\targPost,\n\t\t\targAlwaysPost,\n\t\t\t//argAlwaysPre,// @TODO\n\t\t) {\n\t\t\tlet SS = this.#data.SS = argCustomSelector || DS // selectedSelector\n\t\t\tif(\n\t\t\t\tmyParent ||\n\t\t\t\targRouteDef &&\n\t\t\t\targRouteDef[SS+NAME] &&\n\t\t\t\targRouteDef[SS+TYPE]\n\t\t\t){ // It's a normal route\n\t\t\t\tthis.#data.parent = myParent\n\t\t\t\tthis.#data.root = argRoot\n\t\t\t\tthis.#defineMyAttributes(this, argRouteDef)\n\t\t\t\tthis.#diggestChildRoutes(this, argRouteDef)\n\t\t\t} else { // It's the root route\n\t\t\t\tthis.#data[DOMAIN] = argDomain || this.#data[DOMAIN]\n\t\t\t\tthis.#newGetter(this, DOMAIN)\n\t\t\t\tthis.#data[ALWAYS_URL] = argAlwaysUrl || this.#data[ALWAYS_URL]\n\t\t\t\tthis.#data[ALWAYS_POST] = argAlwaysPost || this.#data[ALWAYS_POST]\n\t\t\t\tthis.#data[POSTFIX] = argPost || this.#data[POSTFIX]\n\t\t\t\tthis.#data[PREFIX] = argPre || this.#data[PREFIX]\n\t\t\t\tthis.#data.root = this.#data\n\t\t\t\tdelete this[PATH]\n\t\t\t\t/**\n\t\t\t\t * @TODO Document\n\t\t\t\t * Trocha({customSelector: 'ASD'}).ASDResource\n\t\t\t\t */\n\t\t\t\tthis.#newGetter(this, _RESOURCE, ()=>(_basicResource(SS)))\n\t\t\t\tthis.#diggestChildRoutes(this, argChildRoutes)\n\t\t\t}\n\t\t}\n\n\t\t_newRoute = (args) => {\n\t\t\targs[TYPE] = ROUTE\n\t\t\tif(!Route.is(args, '')) return false\n\t\t\tthis.#createChildRoute(this, Route.diggest(args,this.#data.SS, ''), args[NAME])\n\t\t}\n\t\t_newScope = (args) => {\n\t\t\targs[TYPE] = SCOPE\n\t\t\tif(!Scope.is(args, '')) return false\n\t\t\tthis.#createChildRoute(this, Scope.diggest(args,this.#data.SS, ''), args[NAME])\n\t\t}\n\t\t_newAlias = (args) => {\n\t\t\targs[TYPE] = _ALIAS\n\t\t\tif(!Alias.is(args, '')) return false\n\t\t\tthis.#createChildRoute(this, Alias.diggest(args,this.#data.SS, ''), args[NAME])\n\t\t}\n\t\t_newResource = (args) => {\n\t\t\targs[TYPE] = _RESOURCE\n\t\t\tif(!Resource.is(args, '')) return false\n\t\t\tthis.#createChildRoute(this, Resource.diggest(args,this.#data.SS, ''), args[NAME])\n\t\t}\n\n/* Begin: src/v2/_Route_path.js */\n\t\tpath(routeParams = {}, customNameFun) {\n\t\t\tlet myData = this.#data\n\t\t\tlet parent = myData.parent || {}\n\t\t\tlet rootData = myData.root\n\t\t\tlet SS = myData.SS\n\t\t\tlet r = s\n\n\t\t\tif(myData[NAME]=== undefined) return ''\n\n\t\t\t// 1 print the domain\n\t\t\tr = (\n\t\t\t\trootData[DOMAIN] &&\n\t\t\t\t// !parent[PATH] &&\n\t\t\t\trouteParams[URL] !== false &&\n\t\t\t\t(routeParams[URL] || rootData[ALWAYS_URL])\n\t\t\t)? rootData[DOMAIN] : s\n\t\t\tdelete routeParams[URL]\n\n\t\t\t// 2 add the prefix\n\t\t\tr += (\n\t\t\t\trootData[PREFIX] &&\n\t\t\t\t(routeParams[PREFIX] || routeParams[EXTENDED])\n\t\t\t) ? rootData[PREFIX] : s\n\t\t\tdelete routeParams[PREFIX]\n\n\t\t\t// 3 print parent paths\n\t\t\tlet parentPathArg = {}\n\t\t\tparentPathArg[POSTFIX] = false\n\t\t\tr += parent[PATH] ? parent[PATH](parentPathArg, ()=>(true)) : s\n\n\t\t\t// 4.A print name & id(name) from customNameFun like Alias\n\t\t\tlet hide = (routeParams[HIDE] !== undefined ? routeParams[HIDE] : (\n\t\t\t\tmyData[HIDE] ||\n\t\t\t\t(myData[JUST_ID] && myData[DEFAULT_ID] === false)\n\t\t\t))\n\t\t\tlet customNameFromInhered\n\t\t\tif(\"function\" === typeof customNameFun) customNameFromInhered = customNameFun(myData)\n\t\t\tif(\"string\" === typeof customNameFromInhered) r += customNameFromInhered\n\t\t\telse { // 4.B print default name & id(name)\n\t\t\t\tlet myId = ':' + myData[ID]\n\t\t\t\tif ( // 4.B.1 justId case\n\t\t\t\t\t(routeParams[JUST_ID] !== false) &&\n\t\t\t\t\t(myData[JUST_ID] && myData[ID] && myData[myData[ID]] !== false)\n\t\t\t\t) {\n\t\t\t\t\tr += _ + myId\n\t\t\t\t} else { // 4.B.2 hide case\n\t\t\t\t\tlet noIdentifier = (myData[ID] ? (routeParams[ID] === false) : true)\n\t\t\t\t\tr += (hide? s : _ + myData[NAME])\n\t\t\t\t\tr += (noIdentifier ? s : _ + myId)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 5 add the postfix\n\t\t\t/**\n\t\t\t * @TODO Document hide also remove postfix\n\t\t\t */\n\t\t\tr += (\n\t\t\t\trootData[POSTFIX] &&\n\t\t\t\t!hide &&\n\t\t\t\trouteParams[POSTFIX] !== false &&\n\t\t\t\t(rootData[ALWAYS_POST] || myData[POSTFIX] || routeParams[POSTFIX] || routeParams[EXTENDED])\n\t\t\t)\t? rootData[POSTFIX] : s\n\t\t\tdelete routeParams[POSTFIX]\n\n\t\t\t// Note next 2 step first clear the routeParams then later on print the colected data\n\t\t\t// 7-1 get query part(also know as search... the ?asd=1 part)\n\t\t\tlet query = {}\n\t\t\tif (routeParams[QUERY]) {\n\t\t\t\tquery = JSON.parse(JSON.stringify(routeParams[QUERY]))\n\t\t\t\tdelete routeParams[QUERY]\n\t\t\t}\n\n\t\t\t// 8-1 get fragment part(also know as anchor... the #asd part)\n\t\t\tlet fragment = s\n\t\t\tif (routeParams[FRAGMENT]) {\n\t\t\t\tfragment = routeParams[FRAGMENT]\n\t\t\t\tdelete routeParams[FRAGMENT]\n\t\t\t}\n\n\t\t\t// 6 Replace Or Remove(RoR) Ids\n\n\t\t\t// 6.1 RoR parentId\n\t\t\tlet preId = '/:'\n\t\t\tif (\n\t\t\t\tparent[SS+ID] &&\n\t\t\t\t!routeParams[parent[SS+ID]] &&\n\t\t\t\t((myData[ID] === false) || (routeParams[PARENT_ID] === false) ||\n\t\t\t\t(myData[PARENT_ID] === false))\n\t\t\t) r = r.replace(preId + parent[SS+ID], s)\n\n\t\t\t// 6.2 Remove parents Ids designed in constructor\n\t\t\tObject.keys(myData).forEach((idName) => {\n\t\t\t\tif (myData[idName] === false && !routeParams[idName])\n\t\t\t\t\treturn r = r.replace(preId + idName, s)\n\t\t\t})\n\n\t\t\t// 6.2 RoR selected Ids in path params\n\t\t\tObject.keys(routeParams).forEach((idName) => {\n\t\t\t\tif (routeParams[idName] === false) // Remove\n\t\t\t\t\tr = r.replace(preId + idName, s)\n\t\t\t\telse // Replace\n\t\t\t\t\tr = r.replace(':' + idName, routeParams[idName])\n\t\t\t})\n\n\t\t\t// 7 Now add the query\n\t\t\tObject.keys(query).forEach(function(key, i, array) {\n\t\t\t\tif (i === 0) r += '?'\n\t\t\t\tif(Array.isArray(query[key]))\n\t\t\t\t\tquery[key].forEach((value, _i)=>(\n\t\t\t\t\t\tr += encodeURIComponent(key) + '[]=' + encodeURIComponent(value) + ((\n\t\t\t\t\t\t\t(query[key].length - 1 !== _i) ||\n\t\t\t\t\t\t\t(array.length - 1 !== i)\n\t\t\t\t\t\t)? '&' : '')\n\t\t\t\t\t))\n\t\t\t\telse\n\t\t\t\t\tr += encodeURIComponent(key) + '=' + encodeURIComponent(query[key]) + (array.length - 1 !== i ? '&' : '')\n\t\t\t})\n\n\t\t\t// 8 Now add the fragment\n\t\t\tif (fragment) r += '#' + encodeURIComponent(fragment)\n\n\t\t\treturn r\n\t\t}\n/* End: src/v2/_Route_path.js */\n\n\t\ttoString = () => (this.#as(this))\n\n\t\tstatic DEFAULT_METHOD = GET\n\t\t/**\n\t\t * @TOBE_OVERRIDE\n\t\t * @param {object} routeDefinition -\n\t\t * @param {string} SS -\n\t\t */\n\t\tstatic is(routeDefinition, SS) {\n\t\t\treturn (\n\t\t\t\trouteDefinition[SS+TYPE] === ROUTE ||\n\t\t\t\t(\n\t\t\t\t\t(\"object\" === typeof(routeDefinition)) &&\n\t\t\t\t\trouteDefinition[SS+TYPE] === undefined\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @TOBE_OVERRIDE\n\t\t * @param {} routeDefinition -\n\t\t * @param {} SS - selector to be return\n\t\t * @param {} IS - selector to be find\n\t\t */\n\t\tstatic diggest = (routeDefinition, SS, IS, dest, attributes) => {\n\t\t\tif(dest && attributes)\n\t\t\t\tattributes.forEach((attribute) => {\n\t\t\t\t\tdest[SS+attribute] = routeDefinition[IS+attribute]\n\t\t\t\t})\n\t\t\telse {\n\t\t\t\tlet r = {}\n\t\t\t\tr[SS+TYPE] = ROUTE\n\t\t\t\tr[SS+METHOD] = routeDefinition[IS+METHOD] || Route.DEFAULT_METHOD\n\t\t\t\tRoute.diggest(routeDefinition, SS, IS, r, [\n\t\t\t\t\tID, HIDE, JUST_ID, POSTFIX, PARENT_ID\n\t\t\t\t])\n\t\t\t\tRoute._trimSelector(IS, routeDefinition, r)\n\t\t\t\treturn r\n\t\t\t}\n\t\t}\n\n\t\tstatic _trimSelector = (SS, src, dest) => {\n\t\t\tObject.keys(src).forEach((attribute) => {\n\t\t\t\tif(attribute.slice(0,2) !== SS)\n\t\t\t\t\tdest[attribute] = src[attribute]\n\t\t\t\telse _throwWarning(this, WARNING_ROUTE_ATTRIBUTE_NOT_SUPPORTED, attribute)\n\t\t\t})\n\t\t}\n\t}\n/* End: src/v2/_Route.js */\n/* Begin: src/v2/_Alias.js */\n\tclass Alias extends Route {\n\t\tconstructor(...args) {\n\t\t\tsuper(...args)\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tstatic diggest(routeDefinition, SS, IS) {\n\t\t\tlet r = {}\n\t\t\tr[SS+TYPE] = _ALIAS\n\t\t\tr[SS+ALIAS] = routeDefinition[IS+ALIAS] || routeDefinition\n\t\t\tr[SS+METHOD] = routeDefinition[IS+METHOD] || Route.DEFAULT_METHOD\n\t\t\tRoute.diggest(routeDefinition, SS, IS, r, [\n\t\t\t\tID, POSTFIX, PARENT_ID\n\t\t\t])\n\t\t\tif(\"string\" !== typeof routeDefinition)\n\t\t\t\tRoute._trimSelector(IS, routeDefinition, r)\n\t\t\treturn r\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tstatic is(routeDefinition, SS) {\n\t\t\treturn (\n\t\t\t\t(\"string\" === typeof routeDefinition) ||\n\t\t\t\t(\n\t\t\t\t\trouteDefinition[SS+TYPE] === _ALIAS &&\n\t\t\t\t\trouteDefinition[SS+ALIAS]\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tpath(routeParams = {}){\n\t\t\treturn super.path(routeParams, function (myData) {\n\t\t\t\t// Note Alias dnt support hide nor justId in creation\n\t\t\t\tlet r = s\n\t\t\t\tlet myId = _ + ':' + myData[ID]\n\t\t\t\tlet parent = myData.parent || {}\n\t\t\t\tlet rootData = myData.root\n\n\t\t\t\tif (myData[ID] && routeParams[JUST_ID]) {\n\t\t\t\t\tr += myId\n\t\t\t\t} else {\n\t\t\t\t\tlet useID = (!!myData[ID] && routeParams[myData[ID]] !== false)\n\t\t\t\t\tr += parent.constructor.name === \"Trocha\" ? s : _\n\t\t\t\t\tr += (routeParams[HIDE]? s : myData[ALIAS])\n\t\t\t\t\tr += (useID ? myId : s)\n\t\t\t\t}\n\t\t\t\treturn r\n\t\t\t})\n\t\t}\n\t}\n/* End: src/v2/_Alias.js */\n/* Begin: src/v2/_Resource.js */\n\tclass Resource extends Route {\n\t\tconstructor(...args) {\n\t\t\tsuper(...args)\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tstatic diggest(routeDefinition, SS, IS) {\n\t\t\tlet r = {}\n\t\t\tr[SS+TYPE] = _RESOURCE\n\t\t\tr[SS+RESOURCE] = routeDefinition[IS+RESOURCE] || _basicResource(SS)\n\t\t\tRoute.diggest(routeDefinition, SS, IS, r, [ID])\n\t\t\tRoute._trimSelector(IS, routeDefinition, r)\n\t\t\treturn r\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tstatic is(routeDefinition, SS) {\n\t\t\treturn (\n\t\t\t\t\trouteDefinition[SS+TYPE] === _RESOURCE &&\n\t\t\t\t\trouteDefinition[SS+ID] // &&\n\t\t\t\t\t// routeDefinition[SS+RESOURCE]\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tpath(routeParams = {}, force){\n\t\t\treturn super.path(routeParams, function (myData) {\n\t\t\t\tif(\n\t\t\t\t\t(\"function\" === typeof force) &&\n\t\t\t\t\t(force() !== true)\n\t\t\t\t) _throwWarning(undefined, WARNING_RESOURCE_AS_A_ROUTE)\n\t\t\t\treturn false\n\t\t\t})\n\t\t}\n\t}\n/* End: src/v2/_Resource.js */\n/* Begin: src/v2/_Scope.js */\n\tclass Scope extends Route {\n\t\tconstructor(...args) {\n\t\t\tsuper(...args)\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tstatic diggest(routeDefinition, SS, IS) {\n\t\t\tlet r = {}\n\t\t\tr[SS+TYPE] = SCOPE\n\t\t\tr[SS+JUST_ID] = true\n\t\t\tr[SS+DEFAULT_ID] = routeDefinition[IS+DEFAULT_ID] || false\n\t\t\tRoute.diggest(routeDefinition, SS, IS, r, [ID, HIDE])\n\t\t\tRoute._trimSelector(IS, routeDefinition, r)\n\t\t\treturn r\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tstatic is(routeDefinition, SS) {\n\t\t\treturn (\n\t\t\t\t(\"object\" === typeof(routeDefinition)) &&\n\t\t\t\trouteDefinition[SS+TYPE] === SCOPE &&\n\t\t\t\trouteDefinition[SS+ID] // Should scope always have id????\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * @override\n\t\t */\n\t\tpath(routeParams = {}, force){\n\t\t\treturn super.path(routeParams, function (myData) {\n\t\t\t\tif(\n\t\t\t\t\t(\"function\" === typeof force) &&\n\t\t\t\t\t(force() !== true)\n\t\t\t\t) _throwError(undefined, ERROR_SCOPE_AS_A_ROUTE)\n\t\t\t\treturn false\n\t\t\t})\n\t\t}\n\t}\n/* End: src/v2/_Scope.js */\n\n\tclass Trocha extends Route{\n\t\tconstructor(args = {}) {\n\t\t\tsuper(\n\t\t\t\tnull, null, //Because it's the root\n\t\t\t\targs.customSelector,\n\t\t\t\tnull,\n\t\t\t\targs.routes,\n\t\t\t\targs.domain,\n\t\t\t\targs.alwaysUrl,\n\t\t\t\targs.pre,\n\t\t\t\targs.post,\n\t\t\t\targs.alwaysPost,\n\t\t\t\t//args.alwaysPre,/**@TODO\n\t\t\t)\n\t\t}\n\n\t\t/*\n\t\t * STATIC AVAILABLE ATTRIBUTES\n\t\t */\n\t\t /*\n\t\t * Offers all the route types\n\t\t */\n\t\tstatic get ROUTE(){return ROUTE}\n\t\tstatic get SCOPE(){return SCOPE}\n\t\tstatic get RESOURCE(){return _RESOURCE}\n\t\tstatic get ALIAS(){return _ALIAS}\n\n\t\t/*\n\t\t * Offers all the request types\n\t\t */\n\t\tstatic get OPTIONS(){return OPTIONS}\n\t\tstatic get GET(){return GET}\n\t\tstatic get HEAD(){return HEAD}\n\t\tstatic get POST(){return POST}\n\t\tstatic get PUT(){return PUT}\n\t\tstatic get PATCH(){return PATCH}\n\t\tstatic get DELETE(){return DELETE}\n\t\tstatic get TRACE(){return TRACE}\n\t\tstatic get CONNECT(){return CONNECT}\n\n\t\t/*\n\t\t * Offers basic resource structure\n\t\t * @See Route constructor for custom selector\n\t\t */\n\t\tstatic get $RESOURCE(){return _basicResource()}\n\t}\n/* End: src/v2/_Trocha.js */\n/* End: src/v2/_core.js */\n\tparent.Trocha = Trocha\n})(this)\n"],"file":"trocha_library.babeled.js"}